function e(e,i,t,s){Object.defineProperty(e,i,{get:t,set:s,enumerable:!0,configurable:!0})}var i=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequiref23a;(0,i.register)("eIbxT",function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),e(t.exports,"Sink",function(){return p}),e(t.exports,"FileHandle",function(){return y}),e(t.exports,"FolderHandle",function(){return _}),e(t.exports,"default",function(){return b});var n=i("cFLn4");let{File:r,Blob:o,DOMException:l}=i("a2zud").default,{INVALID:h,GONE:a,MISMATCH:f,MOD_ERR:d,SYNTAX:w,SECURITY:c,DISALLOWED:u}=n.errors;class p{constructor(e,i){this.fileHandle=e,this.file=i,this.size=i.size,this.position=0}write(e){let i=this.file;if("object"==typeof e){if("write"===e.type){if(Number.isInteger(e.position)&&e.position>=0&&(this.position=e.position,this.size<e.position&&(this.file=new r([this.file,new ArrayBuffer(e.position-this.size)],this.file.name,this.file))),!("data"in e))throw new l(...w("write requires a data argument"));e=e.data}else if("seek"===e.type)if(Number.isInteger(e.position)&&e.position>=0){if(this.size<e.position)throw new l(...h);this.position=e.position;return}else throw new l(...w("seek requires a position argument"));else if("truncate"===e.type)if(Number.isInteger(e.size)&&e.size>=0){i=e.size<this.size?new r([i.slice(0,e.size)],i.name,i):new r([i,new Uint8Array(e.size-this.size)],i.name),this.size=i.size,this.position>i.size&&(this.position=i.size),this.file=i;return}else throw new l(...w("truncate requires a size argument"))}e=new o([e]);let t=this.file,s=t.slice(0,this.position),n=t.slice(this.position+e.size),a=this.position-s.size;a<0&&(a=0),t=new r([s,new Uint8Array(a),e,n],t.name),this.size=t.size,this.position+=e.size,this.file=t}close(){if(this.fileHandle._deleted)throw new l(...a);this.fileHandle._file=this.file,this.file=this.position=this.size=null,this.fileHandle.onclose&&this.fileHandle.onclose(this.fileHandle)}}class y{constructor(e="",i=new r([],e),t=!0){this._file=i,this.name=e,this.kind="file",this._deleted=!1,this.writable=t,this.readable=!0}async getFile(){if(this._deleted)throw new l(...a);return this._file}async createWritable(e){if(!this.writable)throw new l(...u);if(this._deleted)throw new l(...a);return new p(this,e.keepExistingData?await this.getFile():new r([],this.name))}async isSameEntry(e){return this===e}async _destroy(){this._deleted=!0,this._file=null}}class _{constructor(e,i=!0){this.name=e,this.kind="directory",this._deleted=!1,this._entries={},this.writable=i,this.readable=!0}async *entries(){if(this._deleted)throw new l(...a);yield*Object.entries(this._entries)}async isSameEntry(e){return this===e}async getDirectoryHandle(e,i){if(this._deleted)throw new l(...a);let t=this._entries[e];if(t)if(!(t instanceof y))return t;else throw new l(...f);if(i.create)return this._entries[e]=new _(e);throw new l(...a)}async getFileHandle(e,i){let t=this._entries[e],s=t instanceof y;if(t&&s)return t;if(t&&!s)throw new l(...f);if(!t&&!i.create)throw new l(...a);if(!t&&i.create)return this._entries[e]=new y(e)}async removeEntry(e,i){let t=this._entries[e];if(!t)throw new l(...a);await t._destroy(i.recursive),delete this._entries[e]}async _destroy(e){for(let i of Object.values(this._entries)){if(!e)throw new l(...d);await i._destroy(e)}this._entries={},this._deleted=!0}}let z=new _("");var b=()=>z});
//# sourceMappingURL=memory.7c76c31c.js.map
